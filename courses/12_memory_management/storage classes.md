# کلاس‌های ذخیره‌سازی در C

کلاس‌های ذخیره‌سازی در زبان C، مشخص می‌کنند که یک متغیر چگونه و در کجا در حافظه ذخیره می‌شود و طول عمر آن چقدر است. چهار نوع اصلی کلاس ذخیره‌سازی در C وجود دارد که هر کدام ویژگی‌های خاص خود را دارند:

## 1. کلاس ذخیره‌سازی auto

کلاس ذخیره‌سازی auto به طور پیش‌فرض برای متغیرهایی که در داخل توابع تعریف می‌شوند، اعمال می‌شود. این متغیرها فقط در محدوده‌ی تابع قابل دسترسی هستند و به محض خروج از تابع از بین می‌روند.

### مثال:
```c
#include <stdio.h>

void example() {
    auto int x = 10; // auto به طور پیش‌فرض اعمال می‌شود
    printf("Value of x: %d\n", x);
}

int main() {
    example();
    return 0;
}
```
در این مثال، x یک متغیر محلی است که فقط در داخل تابع example قابل دسترسی است.

## 2. کلاس ذخیره‌سازی register

کلاس register به کامپایلر پیشنهاد می‌دهد که برای متغیر، از رجیسترهای پردازنده به جای حافظه RAM استفاده کند تا سرعت دسترسی به آن بیشتر شود. این کلاس معمولاً برای متغیرهایی که در حلقه‌ها استفاده می‌شوند، مناسب است.

### مثال:
```c
#include <stdio.h>

int main() {
    register int i;
    for (i = 0; i < 5; i++) {
        printf("%d ", i);
    }
    return 0;
}
```

در اینجا، i یک متغیر register است که احتمالاً در رجیستر پردازنده ذخیره می‌شود.

توجه :‌ تضمینی برای گرفتن این جایگاه برای ذخیره سازی متغیر ها نیست.
## 3. کلاس ذخیره‌سازی static

کلاس static باعث می‌شود که یک متغیر مقدار خود را بین فراخوانی‌های مختلف تابع حفظ کند. این متغیرها به طور معمول فقط در فایل یا تابعی که در آن تعریف شده‌اند قابل دسترسی هستند.

### مثال:
```c
#include <stdio.h>

void counter() {
    static int count = 0; // مقدار ثابت می‌ماند بین فراخوانی‌ها
    count++;
    printf("Count: %d\n", count);
}

int main() {
    counter();
    counter();
    counter();
    return 0;
}
```
در اینجا، متغیر count با استفاده از static تعریف شده است و مقدار آن بین فراخوانی‌های مختلف تابع counter حفظ می‌شود.

## 4. کلاس ذخیره‌سازی extern

کلاس extern برای متغیرهایی استفاده می‌شود که در فایل‌های دیگر تعریف شده‌اند و نیاز به دسترسی به آنها از سایر فایل‌ها داریم. این نوع متغیرها معمولاً به عنوان متغیرهای سراسری (Global) در برنامه‌ها استفاده می‌شوند.

### مثال:
`فایل اول (main.c):
`
```c
#include <stdio.h>

extern int x; // اعلام متغیر از فایل دیگر

int main() {
    printf("Value of x: %d\n", x);
    return 0;
}
```

`فایل دوم (globals.c):
`
```c
int x = 10; // تعریف متغیر سراسری
```

در این مثال، متغیر x در فایل globals.c تعریف شده است و در فایل main.c با استفاده از extern به آن دسترسی داریم.

## جمع‌بندی

- auto: متغیرهای محلی که به طور پیش‌فرض در توابع استفاده می‌شوند.
- register: متغیرهایی که ممکن است در رجیسترهای پردازنده ذخیره شوند تا سرعت دسترسی افزایش یابد.
- static: متغیرهایی که مقدارشان بین فراخوانی‌های تابع حفظ می‌شود.
- extern: متغیرهایی که در فایل‌های دیگر تعریف شده و در فایل جاری به آنها دسترسی داریم.

