# کلیدواژه `static` در زبان C

کلیدواژه `static` در زبان C به چندین منظور مورد استفاده قرار می‌گیرد. این کلیدواژه می‌تواند به متغیرها و توابع اعمال شود و ویژگی‌های خاصی را به آن‌ها اضافه کند.

---


## استفاده از `static` برای متغیرها

### 1. متغیرهای محلی

زمانی که یک متغیر محلی با کلیدواژه `static` تعریف می‌شود، این متغیر مقدار خود را حفظ می‌کند حتی پس از خروج از بلاک تابع. به عبارت دیگر، متغیرهای محلی استاتیک فقط در اولین بار که تابع فراخوانی می‌شود، مقداردهی اولیه می‌شوند و در فراخوانی‌های بعدی، مقدار قبلی خود را حفظ می‌کنند.

#### مثال:
```c
#include <stdio.h>

void function() {
    static int count = 0; // متغیر استاتیک
    count++;
    printf("Count: %d\n", count);
}

int main() {
    function(); // Count: 1
    function(); // Count: 2
    function(); // Count: 3
    return 0;
}
```

در این مثال، متغیر count هر بار که تابع function فراخوانی می‌شود، مقدار خود را حفظ می‌کند و در نتیجه خروجی افزایش می‌یابد.

### 2. متغیرهای سراسری
زمانی که یک متغیر سراسری (global variable) با static تعریف می‌شود، این متغیر فقط در فایل فعلی قابل دسترسی است و نمی‌توان به آن از دیگر فایل‌ها دسترسی پیدا کرد. این ویژگی باعث می‌شود که نام متغیرهای سراسری تداخل نداشته باشند.

#### مثال:
```c
#include <stdio.h>

static int global_var = 10; // متغیر سراسری استاتیک

void display() {
    printf("Global Variable: %d\n", global_var);
}

int main() {
    display(); // Global Variable: 10
    return 0;
}
```

---

## استفاده از static برای توابع
زمانی که یک تابع با کلیدواژه static تعریف می‌شود، این تابع فقط در فایل فعلی قابل دسترسی است و نمی‌توان به آن از دیگر فایل‌ها دسترسی پیدا کرد. این ویژگی مشابه به متغیرهای سراسری است و به جلوگیری از تداخل نام‌ها کمک می‌کند.

### مثال:
```c
#include <stdio.h>

static void static_function() {
    printf("This is a static function.\n");
}

int main() {
    static_function(); // فراخوانی تابع استاتیک
    return 0;
}
```
---
## مزایای استفاده از static
### حفظ حالت:
متغیرهای استاتیک محلی می‌توانند وضعیت خود را بین فراخوانی‌های تابع حفظ کنند.

### محافظت از تداخل نام:
با استفاده از static برای متغیرها و توابع سراسری، می‌توان از تداخل نام‌ها در فایل‌های مختلف جلوگیری کرد.

### بهبود کارایی:
متغیرهای استاتیک محلی، به دلیل عدم تخصیص و آزادسازی مجدد حافظه، می‌توانند کارایی را بهبود بخشند.

---

## نکات مهم
- متغیرهای استاتیک در زمان اجرای برنامه فقط یک بار مقداردهی می‌شوند و حافظه آن‌ها تا پایان اجرای برنامه باقی می‌ماند.
- توابع و متغیرهای استاتیک در داخل فایل‌های مختلف قابل استفاده نیستند و فقط در فایل تعریف‌شده قابل دسترسی هستند.