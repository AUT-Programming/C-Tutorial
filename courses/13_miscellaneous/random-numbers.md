# تولید اعداد تصادفی در زبان C
در زبان C، برای تولید اعداد تصادفی از توابعی مانند rand() و srand() که در کتابخانه stdlib.h قرار دارند، استفاده می‌شود. این توابع اعداد شبه تصادفی تولید می‌کنند، به این معنا که الگوریتمی که این اعداد را تولید می‌کند از پیش تعیین شده است، اما نتایج به گونه‌ای هستند که به صورت تصادفی به نظر می‌رسند.

---



## تابع rand()
تابع rand() برای تولید یک عدد صحیح تصادفی استفاده می‌شود. این تابع یک عدد تصادفی بین ۰ تا یک عدد بزرگ ثابت (که معمولاً RAND_MAX است) تولید می‌کند.

### تعریف تابع:
```c
int rand(void);
```
### خروجی:
یک عدد صحیح تصادفی بین ۰ و RAND_MAX. مقدار RAND_MAX حداقل برابر با 32767 است (که در اکثر سیستم‌ها همین مقدار است)
### مثال:
```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    printf("Random number: %d\n", rand());
    return 0;
}
```
این برنامه یک عدد تصادفی تولید می‌کند و آن را چاپ می‌کند

---



## متغیر RAND_MAX
یک مقدار ثابت است که بیشترین عددی که rand() می‌تواند تولید کند را تعیین می‌کند. در بسیاری از سیستم‌ها، مقدار RAND_MAX برابر با 32767 است

### مثال:
```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    printf("RAND_MAX is: %d\n", RAND_MAX);
    return 0;
}
```
این برنامه مقدار RAND_MAX را چاپ می‌کند که نشان می‌دهد تا چه حد اعداد تصادفی تولید شده می‌توانند بزرگ باشند.

---


## تعیین محدوده عدد تصادفی
تابع rand() به صورت پیش‌فرض اعداد بین ۰ و RAND_MAX تولید می‌کند. اگر بخواهید عددی در یک محدوده خاص تولید کنید، باید آن را به‌صورت دستی محدود کنید.

### مثال: تولید عددی بین ۰ و ۹۹
```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    int random_number = rand() % 100; // عددی بین 0 تا 99
    printf("Random number between 0 and 99: %d\n", random_number);
    return 0;
}
```
در این مثال، با استفاده از عملگر % (باقیمانده)، عدد تصادفی تولید شده به یک مقدار بین ۰ و ۹۹ محدود شده است.

---


## تابع srand()
تابع srand() برای مقداردهی اولیه به الگوریتم تولید اعداد تصادفی استفاده می‌شود. این مقدار اولیه یا به اصطلاح seed مشخص می‌کند که تابع rand() چگونه اعداد تصادفی را تولید کند.

اگر srand() فراخوانی نشود، تابع rand() همیشه از یک مقدار پیش‌فرض برای تولید اعداد تصادفی استفاده می‌کند و بنابراین در هر اجرای برنامه همان توالی اعداد تولید می‌شود. با استفاده از srand() می‌توان این مقدار اولیه را تغییر داد تا در هر اجرای برنامه اعداد تصادفی متفاوتی تولید شوند.

### تعریف تابع:
```c
void srand(unsigned int seed);
```
seed: مقدار اولیه برای تنظیم الگوریتم تولید اعداد تصادفی
### مثال: استفاده از srand() با مقدار ثابت
```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    srand(5);
    printf("Random number: %d\n", rand());
    return 0;
}
```
در این مثال، با تنظیم seed به مقدار ۵، اعداد تصادفی تولید شده در هر اجرای برنامه یکسان خواهند بود.

### مثال: استفاده از srand() با زمان سیستم
اگر بخواهید در هر اجرای برنامه یک مجموعه عدد تصادفی متفاوت تولید کنید، می‌توانید از زمان سیستم برای مقداردهی به srand() استفاده کنید.


```c
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main() {
    srand(time(0));
    printf("Random number: %d\n", rand());
    return 0;
}
```
در این مثال، از تابع time() برای مقداردهی به srand() استفاده شده است. تابع time() تعداد ثانیه‌های گذشته از زمان epoch (معمولاً از ۱ ژانویه ۱۹۷۰) را برمی‌گرداند. بنابراین در هر بار اجرای برنامه، seed بر اساس زمان تغییر می‌کند و اعداد تصادفی متفاوتی تولید می‌شوند.

> برای seed توابع رندوم، باید از مقادیری استفاده کنیم که دائما عوض میشن و نمیشه اونارو پیشبینی کرد. مثل تابع زمان یا موقعیت ماوس کاربر رو مانیتور!

---


## تولید اعداد تصادفی در محدوده دلخواه
برای تولید عدد تصادفی در یک محدوده مشخص (مثلاً بین min و max)، از فرمول زیر استفاده می‌شود:

```c
random_number = (rand() % (max - min + 1)) + min;
```
### مثال: تولید عدد تصادفی بین ۱۰ و ۵۰
```c
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main() {
    srand(time(0));
    int min = 10;
    int max = 50;
    int random_number = (rand() % (max - min + 1)) + min;
    printf("Random number between %d and %d: %d\n", min, max, random_number);
    return 0;
}
```

---


## تولید اعداد تصادفی با دقت بالا
در برخی کاربردها نیاز به تولید اعداد تصادفی با دقت بیشتری (مثلاً اعداد اعشاری) است. برای این کار می‌توان از تابع rand() همراه با نوع داده float یا double استفاده کرد.

### مثال: تولید عدد تصادفی اعشاری بین ۰ و ۱
```c
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main() {
    srand(time(0));
    float random_float = (float)rand() / RAND_MAX;
    printf("Random float between 0 and 1: %f\n", random_float);
    return 0;
}
```
در این مثال، با تقسیم نتیجه rand() بر RAND_MAX یک عدد اعشاری بین ۰ و ۱ تولید می‌شود.

---


## نکات مهم:
### پیش‌بینی‌پذیری:
اعداد تولید شده توسط rand()، "شبه تصادفی" هستند و با داشتن seed ثابت، می‌توان توالی آن‌ها را پیش‌بینی کرد.

### تعیین seed:
استفاده از تابع srand() برای تعیین مقدار اولیه seed مهم است. در غیر این صورت، اعداد تصادفی در هر اجرای برنامه ثابت خواهند بود.

### محدودیت‌ها:
تابع rand() ممکن است در برخی سیستم‌ها کیفیت پایینی از تصادفی بودن داشته باشد و در کاربردهای حساس (مانند رمزنگاری) استفاده از روش‌های تصادفی‌سازی پیشرفته‌تری توصیه می‌شود.